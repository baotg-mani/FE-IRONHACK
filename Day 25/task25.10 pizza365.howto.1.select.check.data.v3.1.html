<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <title>Pizza 365 project</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container">
    <p class="h3 text-center mt-5"> Chọn đồ uống </p>
    <div class="form-group col-12">
      <hr class="mt-5 mb-5" />
    </div>

    <div class="form-group">
      <label>Đồ uống:</label>
      <select class="form-control" id="dtink-select">
        <option>Chọn đồ uống</option>
      </select>
    </div>
    <button onclick="onBtnShowResultClick()" id="show-result" class="btn btn-primary w-25">Hiển thị</button>
  </div>
  <script>
    "use strict";
    /*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */
    const gREQUEST_STATUS_OK = 200;
    const gREQUEST_READY_STATUS_FINISH_AND_OK = 4;

    /*** REGION 2 - Vùng gán / thực thi sự kiện cho các elements */

    /*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */
    // hàm xử lý sự kiện load trang
    function onPageLoading() {
      loadDataToDrinkSelect();
    }

    function onBtnShowResultClick() {
      // khai báo đối tượng chứa dữ liệu trên form
      var vDrinkObj = {
        drinkValue: "",
        drinkText: ""
      }
      // B1: thu thập dữ liệu

      // B2: validate

      // B3: show dữ liệu và console
    }

    /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
    function loadDataToDrinkSelect() {
      // B1: thu thập dữ liệu
      // B2: validate

      // B3: call rest API để lấy dữ liệu drink
      var vXmlHttp = new XMLHttpRequest();
      callApiToGetDrink(vXmlHttp);
      //B4: load dự liệu lên drink select(khi server trả về thành công)
      vXmlHttp.onreadystatechange =
        function () {
          if (this.readyState == gREQUEST_READY_STATUS_FINISH_AND_OK && this.status == gREQUEST_STATUS_OK) {
            console.log(this.responseText); //ghi response text ra console.log
             loadDrinkDataToSelect(vXmlHttp);  
          }
        };
    }

    function callApiToGetDrink(paramXmlHttp) {
      paramXmlHttp.open("GET", "http://42.115.221.44:8080/devcamp-pizza365/drinks", true);
      paramXmlHttp.send();
    }

    // hàm thực hiện đổ dữ liệu drink vào select
    function loadDrinkDataToSelect(paramXmlHttp) {
      console.log(paramXmlHttp.responseText)
      var vDrinkObjs = JSON.parse(paramXmlHttp.responseText);
      var vDrinkSelect = document.getElementById("drink-select");
      for(var bI = 0; bI < vDrinkObjs)
    }
    
    // hàm thu thập dữ liệu trên form
    function getDrinkData(paramDrinkObj) {
      var vDrinkSelect = document.getElementById("drink-select");
      paramDrinkObj.drinkValue = vDrinkSelect.value;
      paramDrinkObj.drinkText = vDrinkSelect.
    }

    //hàm validate dữ liệu đầu vào
    function 
    
    //mã nguồn để load data về
    function sampleCodeLoadData() {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange =
        function () {
          if (this.readyState == gREQUEST_READY_STATUS_FINISH_AND_OK && this.status == gREQUEST_STATUS_OK) {
            console.log(xhttp.responseText); //ghi response text ra console.log
          }
        };
      xhttp.open("GET", "http://42.115.221.44:8080/devcamp-pizza365/drinks", true);
      xhttp.send();
    }

  </script>
</body>

</html>