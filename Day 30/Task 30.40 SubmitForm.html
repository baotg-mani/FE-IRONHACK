<!-- Lấy lại giao diện của Task 20.100 -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task 30.40</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container jumbotron">
    <div class="form-row border-0">
      <div class="col-sm-12 text-center">
        <h4>Registration Form</h4>
      </div>
    </div>
    <div class="form-row border-0">
      <div class="col-sm-6 border-0">
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>First Name<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-firstname" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Last name<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-lastname" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Birthday<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-birthday" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Gender<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input value="Male" name="gender" type="radio"> Male
            <input value="Female" name="gender" type="radio"> Female
          </div>
        </div>
      </div>
      <div class="col-sm-6 border-0">
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Passport<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-passport" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Email</label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-email" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Country<span class="text-danger"> (*)</span></label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-country" class="form-control" type="text">
          </div>
        </div>
        <div class="form-row form-group border-0">
          <div class="col-sm-4 border-0">
            <label>Region</label>
          </div>
          <div class="col-sm-8 border-0">
            <input id="input-region" class="form-control" type="text">
          </div>
        </div>
      </div>
    </div>
    <div class="form-row form-group border-0">
      <div class="col-sm-2 border-0">
        <label>Subject:</label>
      </div>
      <div class="col-sm-10 border-0">
        <textarea id="input-subject" class="form-control" rows="4"></textarea>
      </div>
    </div>
    <div class="form-row border-0">
      <div class="col-sm-12 text-right">
        <button id="send-button" class="btn btn-success">Send</button>
      </div>
    </div>
  </div>

  <script>
    /*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */

    /*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */
    $(document).ready(function () {
      // xử lý sự kiện khi click send btn
      $("#send-button").on("click", onBtnSendClick);
    })
    /*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */

    function onBtnSendClick() {
      "use strict";
      // Khởi tạo đối tượng chứa dữ liệu
      var vUser = {
        firstName: "",
        lastName: "",
        birthday: "",
        gender: null,
        passport: "",
        email: "",
        country: "",
        region: "",
        subject: ""
      }
      // B1: thu thập dữ liệu
      getDataOnForm(vUser);
      console.log(vUser);
      // B2: validate dữ liệu
      var vIsDataValid = validateData(vUser);
      if (vIsDataValid) {
        // B3: xử lý sự kiện trên front-end

      }
    }
    /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
    // Hàm thu thập dữ liệu nhập từ form
    function getDataOnForm(paramUser) {
      paramUser.firstName = $("#input-firstname").val().trim();
      paramUser.lastName = $("#input-lastname").val().trim();
      paramUser.birthday = $("#input-birthday").val().trim();
      paramUser.gender = $("input[name='gender']:checked").val(); // cách lấy value ở phần check nhiều radio
      paramUser.passport = $("#input-passport").val().trim();
      paramUser.email = $("#input-email").val().trim();
      paramUser.country = $("#input-country").val().trim();
    }

    // Hàm validate dữ liệu (chỉ phần input có (*))
    function validateData(paramUser) {
      "use strict";
      if (paramUser.firstName == "") {
        alert("Firstname not found!");
        console.log("Firstname not found!");
        return false;
      }
      if (paramUser.lastName == "") {
        alert("Lastname not found!");
        console.log("Lastname not found!");
        return false;
      }
      if (paramUser.birthday == "") {
        alert("Birthday not found!");
        console.log("Birthday not found!");
        return false;
      }
      if (paramUser.gender == null) {
        alert("Gender not found!");
        console.log("Gender not found!");
        return false;
      }
      if (paramUser.passport == "") {
        alert("Passport not found!");
        console.log("Passport not found!");
        return false;
      }
      if (paramUser.country == "") {
        alert("Country not found!");
        console.log("Country not found!");
        return false;
      }
      return true;
    }

  </script>
</body>

</html>