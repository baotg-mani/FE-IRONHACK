<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pizza365</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Import Fontawesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- Import Datatable sau jquery -->
  <!-- Import them style bootstrap cho datatable -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css">
  <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Menu bar -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <nav class="navbar navbar-expand-md navbar-light bg-warning margin-center fixed-top">
          <div class="collapse navbar-collapse">
            <ul class="navbar-nav nav-fill w-100">
              <li class="nav-item active navItem">
                <a href="Task-43.40.Pizza365.index.html" class="nav-link">Trang chủ</a>
              </li>
              <li class="nav-item navItem">
                <a href="#chonCombo" class="nav-link">Combo</a>
              </li>
              <li class="nav-item navItem">
                <a href="#chonPizza" class="nav-link">Loại pizza</a>
              </li>
              <li class="nav-item navItem">
                <a href="#guiDonHang" class="nav-link">Gửi đơn hàng</a>
              </li>
            </ul>
          </div>
        </nav>

      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="container content text">
    <!-- Title row home -->
    <div class="col-sm-12 text-left">
      <h1 class="text-warning"><b>Pizza 365</b>
        <h5 class="font-italic text-warning">Truly Italian!</h5>
      </h1>
    </div>

    <!-- Carousel -->
    <div class="col-sm-12">
      <div class="carousel slide">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="Mockup_Images_Pizza365.v1.9/1.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="Mockup_Images_Pizza365.v1.9/2.jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="Mockup_Images_Pizza365.v1.9/3.jpg" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="Mockup_Images_Pizza365.v1.9/4.jpg" alt="Fourth slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Title Pizza365 -->
    <div class="col-sm-12 p-4 mt-4 text-center">
      <h2 class="p-2 text-warning "><b class="border-bottom border-warning">Tại sao lại là Pizza 365</b></h2>
    </div>
    <!-- Giới thiệu 4 phương châm -->
    <div class="col-sm-12">
      <div class="row">
        <div class="col-sm-3 p-4 border border-warning daDang">
          <h3 class="p-2">Đa dạng</h3>
          <p class="p-2">Số lượng pizza đa dạng, có đầy đủ các loại pizza đang hot nhất hiện nay.
          </p>
        </div>
        <div class="col-sm-3 p-4 border border-warning chatLuong">
          <h3 class="p-2">Chất lượng</h3>
          <p class="p-2">Nguyên liệu sạch 100% rõ nguồn gốc, quy trình chế biến đảm bảo vệ sinh an toàn thực phẩm.
          </p>
        </div>
        <div class="col-sm-3 p-4 border border-warning huongVi">
          <h3 class="p-2">Hương vị</h3>
          <p class="p-2">Đảm bảo hương vị ngon, độc, lạ mà bạn chỉ có thể trải nghiệm ở Pizza 365.
        </div>
        <div class="col-sm-3 p-4 bg-warning border border-warning">
          <h3 class="p-2">Dịch vụ</h3>
          <p class="p-2">Nhân viên thân thiện, nhà hàng hiện đại. Dich vụ giao hàng nhanh chất lượng, tân tiến.
          </p>
        </div>
      </div>
    </div>

    <div id="plans" class="row">
      <!-- Title chọn Combo -->
      <div class="col-sm-12 text-center text-warning p-4 mt-4">
        <h2><b class="p-1 border-bottom border-warning" id="chonCombo">Chọn size pizza</b></h2>
        <p><span class="p-2">Chọn combo pizza phù hợp với nhu cầu của bạn</span></p>
      </div>
      <!-- Chọn Combo S M L -->
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-4">
            <div class="card">
              <div class="card-header text-center bgOrange">
                <h3>S (small)</h3>
              </div>
              <div class="card-body text-center">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">Đường kính: <b>20cm</b></li>
                  <li class="list-group-item">Sườn nướng: <b>2</b></li>
                  <li class="list-group-item">Salad: <b>200g</b></li>
                  <li class="list-group-item">Nước ngọt: <b>2</b></li>
                  <li class="list-group-item">
                    <h1><b>150.000</b></h1>VNĐ
                  </li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <button class="btn bgOrange font-weight-bold" id="size-s">Chọn</button>
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="card">
              <div class="card-header bg-warning text-center">
                <h3>M (medium)</h3>
              </div>
              <div class="card-body text-center">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">Đường kính: <b>25cm</b></li>
                  <li class="list-group-item">Sườn nướng: <b>4</b></li>
                  <li class="list-group-item">Salad: <b>300g</b></li>
                  <li class="list-group-item">Nước ngọt: <b>3</b></li>
                  <li class="list-group-item">
                    <h1><b>200.000</b></h1>VNĐ
                  </li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <button class="btn bgOrange font-weight-bold" id="size-m">Chọn</button>
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="card">
              <div class="card-header text-center bgOrange">
                <h3>L (large)</h3>
              </div>
              <div class="card-body text-center">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">Đường kính: <b>30cm</b></li>
                  <li class="list-group-item">Sườn nướng: <b>8</b></li>
                  <li class="list-group-item">Salad: <b>500g</b></li>
                  <li class="list-group-item">Nước ngọt: <b>4</b></li>
                  <li class="list-group-item">
                    <h1><b>250.000</b></h1>VNĐ
                  </li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <button class="btn bgOrange font-weight-bold" id="size-l">Chọn</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="about" class="row">
      <!-- Tiltle chọn loại pizza -->
      <div class="col-sm-12 text-center p-4 mt-4">
        <h2><b class="p-2 text-warning border-bottom border-warning" id="chonPizza">Chọn loại Pizza</b></h2>
      </div>

      <!-- Mục chọn 3 loại pizza -->
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-4">
            <div class="card w-100" style="width: 18rem;">
              <img src="Mockup_Images_Pizza365.v1.9/seafood.jpg" class="card-img-top">
              <div class="card-body">
                <h4>OCEAN MANIA</h4>
                <p>PIZZA HẢI SẢN XỐT MAYONNAISE</p>
                <p>Xốt Cà Chua, Phô Mai Mozzarella, Tôm, Mực, Thanh Cua, Hành Tây.
                </p>
                <p><button class="btn bgOrange w-100 font-weight-bold" id="ocean-mania-btn">Chọn</button>
                </p>
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="card w-100" style="width: 18rem;">
              <img src="Mockup_Images_Pizza365.v1.9/hawaiian.jpg" class="card-img-top">
              <div class="card-body">
                <h4>HAWAIIAN</h4>
                <p>PIZZA DĂM BÔNG DỨA KIỂU HAWAII</p>
                <p>Xốt Cà Chua, Phô Mai Mozzarella, Thịt Dăm Bông, Thơm.
                </p>
                <p><button class="btn bgOrange w-100 font-weight-bold" id="hawaiian-btn">Chọn</button>
                </p>
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="card w-100" style="width: 18rem;">
              <img src="Mockup_Images_Pizza365.v1.9/bacon.jpg" class="card-img-top">
              <div class="card-body">
                <h4>CHEESY CHICKEN BACON</h4>
                <p>PIZZA GÀ PHÔ MAI THỊT HEO XÔNG KHÓI</p>
                <p>Xốt Phô Mai, Thịt Gà, Thịt Heo Muối, Phô Mai Mozzarella, Cà Chua.
                </p>
                <p><button class="btn bgOrange w-100 font-weight-bold" id="bacon-btn">Chọn</button>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Chọn đồ uống -->
      <div class="col-sm-12 text-center mt-4">
        <h2><b class="p-2 text-warning border-bottom border-warning">Chọn đồ uống</b></h2>
        <select class="mt-4 form-control" name="" id="select-drink">
          <option value="">Tất cả loại nước uống</option>
        </select>
      </div>

    </div>

    <div id="contact" class="row">
      <!-- Title gửi đơn hàng -->
      <div class="col-sm-12 text-center p-4 mt-4">
        <h2><b id="guiDonHang" class="p-2 text-warning border-bottom border-warning">Gửi đơn hàng</b></h2>
      </div>

      <!-- Form gửi đơn hàng -->
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-12 p-2">
            <div class="form-group">
              <label for="fullname">Họ và tên</label>
              <input type="text" class="form-control" id="inp-fullname" placeholder="Họ và tên">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="text" class="form-control" id="inp-email" placeholder="Email">
            </div>
            <div class="form-group">
              <label for="dien-thoai">Điện thoại</label>
              <input type="text" class="form-control" id="inp-dien-thoai" placeholder="Điện thoại">
            </div>
            <div class="form-group">
              <label for="dia-chi">Địa chỉ</label>
              <input type="text" class="form-control" id="inp-dia-chi" placeholder="Địa chỉ">
            </div>
            <div class="form-group">
              <label for="loi-nhan">Lời nhắn</label>
              <input type="text" class="form-control" id="inp-loi-nhan" placeholder="Lời nhắn">
            </div>
            <div class="form-group">
              <label for="voucher-id">Mã giảm giá (voucher ID)</label>
              <input type="text" class="form-control" id="inp-voucherid" placeholder="Mã giảm giá">
            </div>
            <button type="button" id="send-btn" class="btn bgOrange w-100 font-weight-bold">Gửi đơn</button>
          </div>
        </div>
      </div>

      <!--Modal hiển thị thông tin đơn hàng(order) -->
      <div id="order-info-modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">

            <div class="modal-header">
              <h5 class="modal-title">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div class="modal-body">
              <div class="form-group">
                <label for="">Họ và tên</label>
                <input id="inpHoTen" class="form-control" type="text">
              </div>
              <div class="form-group">
                <label for="">Số điện thoại</label>
                <input id="inpSoDienThoai" class="form-control" type="text">
              </div>
              <div class="form-group">
                <label for="">Địa chỉ</label>
                <input id="inpDiaChi" class="form-control" type="text">
              </div>
              <div class="form-group">
                <label for="">Lời nhắn</label>
                <input id="inpLoiNhan" class="form-control" type="text">
              </div>
              <div class="form-group">
                <label for="">Mã giảm giá</label>
                <input id="inpMaGiamGia" class="form-control" type="text">
              </div>
              <div class="form-group">
                <label for="">Thông tin chi tiết</label>
                <textarea id="inpThongTin" class="form-control" name="" cols="30" rows="6"></textarea>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Quay lại</button>
              <button id="inpTaoDon" type="button" class="btn btn-warning">Tạo đơn</button>
            </div>
          </div>
        </div>
      </div>

      <!--Modal hiển thị orderID và Lời cảm ơn -->
      <div id="orderid-modal" class="modal mt-5" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg mt-5" role="document">
          <div class="modal-content">
            <div class="modal-body bg-warning rounded">
              <!-- <div class="container"> -->
              <h4>Cảm ơn bạn đã đạt hàng tại Pizza 365. Mã đơn hàng của bạn là:</h4>
              <div class="row form-group">
                <div class="col-sm-3">
                  <label for=""><b>Mã đơn hàng:</b></label>
                </div>
                <div class="col-sm-9">
                  <input id="inp-orderid" class="form-control input-lg" type="text">
                </div>
              </div>
              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-warning text-center">
    <div class="container">
      <h5 class="pt-4 font-weight-bold">Footer</h5>
      <button class="btn btnFooter"><i class="fas fa-arrow-up"></i>To the top</button>
      <section class="text-center my-2">
        <a class="text-dark p1-1" href="#!"><i class="fab fa-facebook-square"></i></a>
        <a class="text-dark pl-1" href="#!"><i class="fab fa-instagram"></i></a>
        <a class="text-dark pl-1" href="#!"><i class="fab fa-snapchat"></i></a>
        <a class="text-dark pl-1" href="#!"><i class="fab fa-pinterest-p"></i></a>
        <a class="text-dark pl-1" href="#!"><i class="fab fa-twitter"></i></a>
        <a class="text-dark pl-1" href="#!"><i class="fab fa-linkedin"></i></a>
      </section>
      <h6 class="pb-5">Powered by DEVCAMP<i class="fas fa-linkedin"></i></h6>
    </div>
  </footer>

  <script>
    "use strict";
    /*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */
    const gBASE_URL = "http://42.115.221.44:8080/devcamp-pizza365/orders";
    // bạn có thể dùng để lưu loại pizza đươc chọn, mỗi khi khách chọn, bạn lại đổi giá trị cho nó
    var gSelectedPizzaType = "";
    // tạo obj dùng để lưu trữ combo được chọn, mỗi khi khách chọn bạn lại đổi giá trị properties của nó
    var gSelectedMenuCombo = {
      menuName: "",    // S, M, L
      duongKinhCM: 0,
      suongNuong: 0,
      saladGr: 0,
      drink: 0,
      priceVND: 0
    }

    var gObjRequest = {
      kichCo: "",
      duongKinh: "",
      suon: "",
      salad: "",
      loaiPizza: "",
      idVourcher: "",
      idLoaiNuocUong: "",
      soLuongNuoc: "",
      hoTen: "",
      thanhTien: "",
      email: "",
      soDienThoai: "",
      diaChi: "",
      loiNhan: ""
    }

    var gPayment = "";

    /*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */
    $(document).ready(function () {
      onPageLoading();

      // gán sự kiện click cho nút chọn Combo size S
      $("#size-s").on("click", function () {
        onClickComboS();
      });

      // gán sự kiện click cho nút chọn Combo size M
      $("#size-m").on("click", function () {
        onClickComboM();
      });

      // gán sự kiện click cho nút chọn Combo size L
      $("#size-l").on("click", function () {
        onClickComboL();
      });

      // gán sự kiện click cho nút chọn Loại Ocean Mania
      $("#ocean-mania-btn").on("click", function () {
        onClickPizzaOcean();
      });
      // gán sự kiện click cho nút chọn Loại Hawaiian
      $("#hawaiian-btn").on("click", function () {
        onClickPizzaHawai();
      });

      // gán sự kiện click cho nút chọn Loại Bacon
      $("#bacon-btn").on("click", function () {
        onClickPizzaBacon();
      });

      // gán sự kiện click cho nút Gửi đơn
      $("#send-btn").on("click", function () {
        onClickSendBtn();
      });

      // gán sự kiện click cho nút Tạo đơn
      $("#inpTaoDon").on("click", function () {
        onClickTaoDon();
      });

    });
    /*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */
    // Hàm xử lý sự kiện loading
    function onPageLoading() {
      loadDrinks();
    }

    // Hàm xử lý sự kiện click nút chọn Combo S
    function onClickComboS() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong biến toàn cục)
      // B1: thu thập dữ liệu
      gSelectedMenuCombo.menuName = "S";
      gSelectedMenuCombo.duongKinhCM = 20;
      gSelectedMenuCombo.suongNuong = 2;
      gSelectedMenuCombo.saladGr = 200;
      gSelectedMenuCombo.drink = 2;
      gSelectedMenuCombo.priceVND = 150000;

      // B2: validate dữ liệu(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Combo S:");
      console.log(gSelectedMenuCombo);
      // thay doi mau button
      $("#size-s").attr("class", "btn btn-warning font-weight-bold");
      $("#size-m").attr("class", "btn bgOrange font-weight-bold");
      $("#size-l").attr("class", "btn bgOrange font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút chọn Combo M
    function onClickComboM() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong biến toàn cục)
      // B1: thu thập dữ liệu
      gSelectedMenuCombo.menuName = "M";
      gSelectedMenuCombo.duongKinhCM = 25;
      gSelectedMenuCombo.suongNuong = 4;
      gSelectedMenuCombo.saladGr = 300;
      gSelectedMenuCombo.drink = 3;
      gSelectedMenuCombo.priceVND = 200000;
      // B2: validate dữ liệu(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Combo M:");
      console.log(gSelectedMenuCombo);
      // thay doi mau button
      $("#size-s").attr("class", "btn bgOrange font-weight-bold");
      $("#size-m").attr("class", "btn btn-warning font-weight-bold");
      $("#size-l").attr("class", "btn bgOrange font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút chọn Combo L
    function onClickComboL() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong biến toàn cục)
      // B1: thu thập dữ liệu
      gSelectedMenuCombo.menuName = "L";
      gSelectedMenuCombo.duongKinhCM = 30;
      gSelectedMenuCombo.suongNuong = 8;
      gSelectedMenuCombo.saladGr = 500;
      gSelectedMenuCombo.drink = 4;
      gSelectedMenuCombo.priceVND = 250000;
      // B2: validate dữ liệu(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Combo L:");
      console.log(gSelectedMenuCombo);
      // thay doi mau button
      $("#size-s").attr("class", "btn bgOrange font-weight-bold");
      $("#size-m").attr("class", "btn bgOrange font-weight-bold");
      $("#size-l").attr("class", "btn btn-warning font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút chọn Loại pizza Ocean
    function onClickPizzaOcean() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong global)
      // B1: thu thập dữ liệu
      gSelectedPizzaType = "Ocean Mania";
      // B2: validate(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Loại pizza: " + gSelectedPizzaType);
      // đổi màu nút
      $("#ocean-mania-btn").attr("class", "btn btn-warning w-100 font-weight-bold");
      $("#hawaiian-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
      $("#bacon-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút chọn Loại pizza Hawaiian
    function onClickPizzaHawai() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong global)
      // B1: thu thập dữ liệu
      gSelectedPizzaType = "Hawaii";
      // B2: validate(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Loại pizza: " + gSelectedPizzaType);
      // đổi màu nút
      $("#ocean-mania-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
      $("#hawaiian-btn").attr("class", "btn btn-warning w-100 font-weight-bold");
      $("#bacon-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút chọn Loại pizza Bacon
    function onClickPizzaBacon() {
      "use strict";
      // B0: khai báo biến lưu trữ(đã có trong global)
      // B1: thu thập dữ liệu
      gSelectedPizzaType = "Bacon";
      // B2: validate(bỏ qua)
      // B3: xử lý hiển thị
      console.log("Loại pizza: " + gSelectedPizzaType);
      // đổi màu nút
      $("#ocean-mania-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
      $("#hawaiian-btn").attr("class", "btn bgOrange w-100 font-weight-bold");
      $("#bacon-btn").attr("class", "btn btn-warning w-100 font-weight-bold");
    }

    // Hàm xử lý sự kiện click nút Gửi đơn
    function onClickSendBtn() {
      "use strict";
      // B0: khai báo biến lưu trữ dữ liệu
      var vOrderInfo = {
        hoTen: "",
        email: "",
        dienThoai: "",
        diaChi: "",
        loiNhan: "",
        maGiamGia: "",
      }
      // B1: thu thập dữ liệu
      getOrderData(vOrderInfo);
      // lấy các thông số cần thiết vào biến toàn cục để request về sau
      gObjRequest.hoTen = vOrderInfo.hoTen;
      gObjRequest.email = vOrderInfo.email;
      gObjRequest.soDienThoai = vOrderInfo.dienThoai;
      gObjRequest.diaChi = vOrderInfo.diaChi;
      gObjRequest.loiNhan = vOrderInfo.loiNhan;
      gObjRequest.idVourcher = vOrderInfo.maGiamGia;

      // B2: validate dữ liệu
      var vIsDataValid = validateData(vOrderInfo);

      if (vIsDataValid) {
        // B3: xử lý dữ liệu (bỏ qua)
        // B4: xử lý hiển thị
        // hiển thị Modal kiểm tra Thông tin đơn hàng
        $("#order-info-modal").modal("show");
        // load dữ liệu lên Modal
        loadInfoToModal(vOrderInfo);
      }
    }

    // Hàm xử lý sự kiện click vào btn Tạo đơn
    function onClickTaoDon() {
      "use strict";
      // B0: khai báo biến lưu trữ dữ liệu (bỏ qua)
      // B1: thu thập dữ liệu
      gObjRequest.thanhTien = gPayment;
      gObjRequest.kichCo = gSelectedMenuCombo.menuName;
      gObjRequest.duongKinh = gSelectedMenuCombo.duongKinhCM;
      gObjRequest.suon = gSelectedMenuCombo.suongNuong;
      gObjRequest.salad = gSelectedMenuCombo.saladGr;
      gObjRequest.loaiPizza = gSelectedPizzaType;
      gObjRequest.idLoaiNuocUong = $("#select-drink option:selected").val();
      gObjRequest.soLuongNuoc = gSelectedMenuCombo.drink;

      // B2:validate dữ liệu(bỏ qua)
      // B3: xử lý hiển thị
      // ẩn Modal thông tin khách order
      $("#order-info-modal").modal("hide");
      console.log(gObjRequest);

      // call restAPI ghi đơn hàng vào 
      $.ajax({
        url: gBASE_URL,
        type: "POST",
        contentType: "application/json;charset=UTF-8",
        dataType: "json",
        data: JSON.stringify(gObjRequest),
        success: function (res) {
          alert("Tạo đơn thành công");
          console.log(res);
          // ẩn Modal Info order
          $("#order-info-modal").modal("hide");
          // hiển thị Modal chứa orderId
          $("#inp-orderid").val(res.orderId); // truyền orderId vào field input
          $("#orderid-modal").modal("show");
        },
        error: function (ajaxContext) {
          alert(ajaxContext.responseText)
        }
      });
    }

    /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
    // Hàm load đồ uống vào mục select bằng call restAPI(ajax)
    function loadDrinks() {
      "use strict";
      // gọi server lấy dữ liệu
      $.ajax({
        url: "http://42.115.221.44:8080/devcamp-pizza365/drinks",
        type: "GET",
        dataType: "json",
        success: function (res) {
          console.log(res);
          var vSelectDrink = $("#select-drink");
          for (let bI = 0; bI < res.length; bI++) {
            var vOption = $("<option/>", {
              text: res[bI].tenNuocUong,
              value: res[bI].maNuocUong
            }).appendTo(vSelectDrink);
          }
        },
        error: function (ajaxContext) {
          alert(ajaxContext.responseText);
        }
      });
    }

    // Hàm thu thập dữ liệu Đặt hàng Gửi đi của khách
    function getOrderData(paramInfo) {
      "use strict";
      paramInfo.hoTen = $("#inp-fullname").val().trim();
      paramInfo.email = $("#inp-email").val().trim();
      paramInfo.dienThoai = $("#inp-dien-thoai").val().trim();
      paramInfo.diaChi = $("#inp-dia-chi").val().trim();
      paramInfo.loiNhan = $("#inp-loi-nhan").val().trim();
      paramInfo.maGiamGia = $("#inp-voucherid").val().trim();
    }

    // Hàm kiểm tra dữ liệu
    function validateData(paramInfo) {
      "use strict";
      if (paramInfo.hoTen === "") {
        alert("Họ tên bị thiếu, vui lòng điền đầy đủ.");
        return false;
      }
      if (paramInfo.email === "") {
        alert("Email bị thiếu, vui lòng điền đầy đủ.");
        return false;
      }
      if (paramInfo.dienThoai === "") {
        alert("Số điện thoại bị thiếu, vui lòng điền đầy đủ.");
        return false;
      }
      if (paramInfo.diaChi === "") {
        alert("Địa chỉ bị thiếu, vui lòng điền đầy đủ.");
        return false;
      }
      if (!validateEmail(paramInfo.email) || paramInfo.email === "") {
        alert("Email không hợp lệ");
        return false;
      }
      return true;
    }

    // Hàm validate Email
    function validateEmail(paramEmail) {
      "use strict";
      var vEmailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
      return vEmailReg.test(paramEmail);
    }

    // Hàm load Thông tin order lên Modal
    function loadInfoToModal(paramInfo) {
      "use strict";
      $("#inpHoTen").val(paramInfo.hoTen);
      $("#inpSoDienThoai").val(paramInfo.dienThoai);
      $("#inpDiaChi").val(paramInfo.diaChi);
      $("#inpLoiNhan").val(paramInfo.loiNhan);
      $("#inpMaGiamGia").val(paramInfo.maGiamGia);
      // xử lý mã giảm giá (call restAPI để nhận discount)
      $.ajax({
        url: "http://42.115.221.44:8080/devcamp-voucher-api/voucher_detail/" + paramInfo.maGiamGia,
        type: "GET",
        dataType: "json",
        success: function (res) {
          // debugger;
          console.log(res);
          var vPayment = gSelectedMenuCombo.priceVND * (1 - (res.phanTramGiamGia / 100));
          gPayment = vPayment; // lưu số tiền thanh toán vào biến toàn cục
          $("#inpThongTin").html(
            `Xác nhận: ${paramInfo.hoTen}, ${paramInfo.dienThoai}, ${paramInfo.diaChi}, Menu ${gSelectedMenuCombo.menuName}, sườn nướng ${gSelectedMenuCombo.suongNuong}, nước ${gSelectedMenuCombo.drink}... 
            \nLoại pizza: ${gSelectedPizzaType}, Giá: ${gSelectedMenuCombo.priceVND} vnd, Mã giảm giá: ${paramInfo.maGiamGia}
            \nPhải thanh toán: ${vPayment} vnd (giảm giá ${res.phanTramGiamGia}%) `
          );
        },
        error: function (ajaxContext) {
          // alert(ajaxContext.responseText);
          alert("Mã giảm giá không hợp lệ");
          var vPayment = gSelectedMenuCombo.priceVND;
          gPayment = vPayment; // lưu số tiền thanh toán vào biến toàn cục
          $("#inpThongTin").html(
            `Xác nhận: ${paramInfo.hoTen}, ${paramInfo.dienThoai}, ${paramInfo.diaChi}, Menu ${gSelectedMenuCombo.menuName}, sườn nướng ${gSelectedMenuCombo.suongNuong}, nước ${gSelectedMenuCombo.drink}...
            Loại pizza: ${gSelectedPizzaType}, Giá: ${gSelectedMenuCombo.priceVND} vnd, Mã giảm giá: ...
            Phải thanh toán: ${vPayment} vnd (giảm giá 0%) `
          );
        }
      });
    }

  </script>
</body>

</html>